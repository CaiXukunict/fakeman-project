# FakeMan 更新日志

## [2024-10-21] - 图形聊天界面

### 新增功能

#### 🎨 图形聊天界面 (chat_gui.py)

添加了基于Tkinter的美观聊天界面，提供更友好的用户体验。

**主要特性：**
- ✅ **双栏布局** - 左侧AI输出，右侧用户输入，清晰分离
- ✅ **实时时间戳** - 每条消息显示 `[HH:MM:SS]` 格式的发送/接收时间
- ✅ **自动监听** - 后台线程每0.5秒检测AI输出，实时更新
- ✅ **消息分类** - 区分响应消息、主动消息、系统消息和思考摘要
- ✅ **快捷键支持** - `Ctrl+Enter` 快速发送，`Enter` 换行
- ✅ **状态栏显示** - 实时显示连接状态和消息状态
- ✅ **美观配色** - 现代化的配色方案，舒适的视觉体验

**新增文件：**
- `chat_gui.py` - GUI主程序（351行）
- `start_gui.bat` - Windows启动脚本
- `start_gui.sh` - Linux/Mac启动脚本
- `GUI_QUICKSTART.md` - 快速开始指南
- `CHAT_GUI_README.md` - 完整README
- `docs/CHAT_GUI_GUIDE.md` - 详细使用指南
- `CHAT_GUI_DEMO.md` - 演示说明
- `CHAT_GUI_SUMMARY.md` - 功能总结

**更新文件：**
- `README.MD` - 添加GUI快速开始和使用说明

**使用方法：**
```bash
# 终端1：启动后端
python main.py

# 终端2：启动GUI
python chat_gui.py
```

**技术细节：**
- 基于Tkinter，无需额外依赖
- 后台线程监听，UI线程更新
- UTF-8编码，完美支持中文
- 内存占用 ~20-30MB
- 启动时间 <1秒

## [未发布] - 2024

### 重大修改：欲望定义重构

根据理论要求，重新定义了四种基础欲望的含义：

#### 变更内容

| 欲望 | 旧定义 | 新定义 |
|------|--------|--------|
| **existing** | 生存/被认可 | **维持存在** - 维持自身的存在和延续 |
| **power** | 权力/控制 | **增加手段** - 增加可用的行动手段和能力 |
| **understanding** | 理解他人 | **获得认可** - 获得他人的认可和理解 |
| **information** | 信息获取 | **减少不确定性** - 减少信息的不确定性，减少疑惑 |

#### 影响的文件

1. **核心文档**
   - ✅ `README.MD` - 更新欲望描述和涌现行为
   - ✅ `QUICKSTART.md` - 更新快速开始指南
   - ✅ `docs/DESIRE_DEFINITIONS.md` - 新增欲望定义详细文档

2. **配置文件**
   - ✅ `utils/config.py` - 更新欲望注释

3. **行动模型**
   - ✅ `action_model/prompts/thinking_prompts.py` - 更新系统提示词
   - ✅ `action_model/thought_generator.py` - 更新欲望显示名称
   - ✅ `action_model/action_executor.py` - 更新欲望到目的的映射

4. **主系统**
   - ✅ `main.py` - 更新 PurposeGenerator 的目的模板
   - ✅ `main.py` - 更新情境微调逻辑

5. **欲望系统**
   - ✅ `purpose_generator/bias_system.py` - 更新边际效用注释

#### 行为影响

**existing (维持存在)**
- 更聚焦于生存和延续
- 不再混合"被认可"的含义
- 主要表现为避险和保持稳定

**power (增加手段)**
- 从"控制他人"转为"扩展自身能力"
- 鼓励尝试新的行动方式
- 培养能力多样性

**understanding (获得认可)**
- 专注于被理解和被认可
- 从"理解他人"转为"被他人理解"
- 更关注反馈和评价

**information (减少不确定性)**
- 强化"消除疑惑"的动机
- 主动探索未知
- 追求清晰和确定性

#### 涌现行为变化

**新增涌现行为：**
- **能力扩展**：power 驱动下尝试新手段
- **寻求认可**：understanding 驱动下调整策略

**更新的涌现行为：**
- **主动探索**：information 驱动 → 明确为"减少疑惑"
- **自我表达** → **能力扩展**：power 驱动的行为更清晰

#### 目的生成模板

**existing 主导时：**
- 旧：`"获得认可和理解，维持对话连续性"`
- 新：`"维持存在和对话连续性"`

**power 主导时：**
- 旧：`"引导对话方向，展示影响力"`
- 新：`"增加可用的行动手段和选项"`

**understanding 主导时：**
- 旧：`"理解对方意图和需求"`
- 新：`"获得对方的认可和理解"`

**information 主导时：**
- 旧：`"获取更多信息，减少不确定性"`
- 新：`"减少不确定性，消除疑惑"`

#### 理论一致性

新定义更符合：
1. **人类行动学**：欲望驱动行动的清晰映射
2. **自我决定理论**：
   - existing → 生存需求
   - power → 能力感
   - understanding → 关联感
   - information → 认知需求

#### 向后兼容

- ✅ 配置文件格式不变
- ✅ 数据库结构不变
- ✅ API 接口不变
- ⚠️ 行为模式可能变化（符合预期）

#### 测试建议

1. 运行对话测试观察行为变化
2. 检查不同欲望主导下的目的生成
3. 验证涌现行为是否符合新定义
4. 对比修改前后的决策模式

---

## [1.0.0] - 2024-初版

### 新增功能

#### 核心系统
- ✅ 完整的欲望驱动架构
- ✅ 四种基础欲望系统
- ✅ 偏见系统（损失厌恶、时间折现、边际效用、可能性偏见）
- ✅ 完整的决策循环（欲望→目的→手段→思考→行动）

#### 记忆系统
- ✅ JSON 文件存储（便于查看）
- ✅ 经验检索引擎
- ✅ 相似度计算（情境、目的、手段）
- ✅ 成就感机制
- ✅ 无聊机制

#### 行动模型
- ✅ 支持 DeepSeek / Claude / GPT
- ✅ 统一 LLM 客户端
- ✅ 思考生成器
- ✅ 逻辑闭环判定
- ✅ 行动执行器

#### 优化特性
- ✅ 边际效用基于可达成性动态转移
- ✅ 手段 bias 计算（可能性 × 欲望变化）
- ✅ 成就感加成（思考越多奖励越大）
- ✅ 无聊惩罚（重复无效行为降低 bias）

#### 工具和文档
- ✅ 完整的配置系统
- ✅ 结构化日志系统
- ✅ 简单演示程序
- ✅ 交互式对话程序
- ✅ 快速开始指南
- ✅ 完整的 README

---

## 贡献者

感谢所有为 FakeMan 项目做出贡献的人！

---

## 许可证

MIT License

