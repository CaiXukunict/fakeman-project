# 📂 FakeMan 两层架构 - 文件导航

## 🚀 快速启动

| 文件 | 用途 |
|------|------|
| **启动两层架构.bat** | 一键启动两层架构系统 ⭐ |
| thinking_layer.py | 思考层主程序 |
| execution_layer.py | 执行层主程序 |

---

## 📚 文档中心

### 🌟 必读文档

| 文档 | 内容 | 适合 |
|------|------|------|
| **两层架构README.md** | 完整指南，包含快速开始、核心概念、使用指南 | 所有用户 ⭐ |
| **两层架构快速参考.txt** | 命令格式、启动方式、常用命令 | 快速查阅 |
| **演示对比.md** | 新旧版本效果对比，实际运行示例 | 了解改进 |

### 📖 详细文档

| 文档 | 内容 |
|------|------|
| 两层架构说明.md | 架构设计、技术实现、流程图、配置选项 |
| 两层架构-完成.md | 实现总结、需求分析、解决方案、关键特性 |
| 两层架构实现总结.txt | 全面总结、文件列表、性能数据、后续优化 |

---

## 💻 核心代码

### 两层架构系统

| 文件 | 说明 | 行数 |
|------|------|------|
| **thinking_layer.py** | 思考层实现，负责分析决策 | 252行 |
| **execution_layer.py** | 执行层实现，负责严格执行 | 268行 |
| main.py | 原FakeMan系统（已集成两层架构格式） | 767行 |
| main_refactored.py | 重构版FakeMan系统 | - |

### 动作模型

| 目录/文件 | 说明 |
|-----------|------|
| action_model/ | 动作模型模块 |
| ├── acting_bot.py | 行动机器人 |
| ├── action_executor.py | 行动执行器 |
| ├── llm_client.py | LLM客户端 |
| ├── response_parser.py | 响应解析器 |
| ├── thought_generator.py | 思考生成器 |
| └── prompts/ | 提示词模块 |
|     ├── thinking_prompts.py | 思考提示词 |
|     └── action_prompts.py | 行动提示词 |

### 目的生成器

| 目录/文件 | 说明 |
|-----------|------|
| purpose_generator/ | 目的生成器模块 |
| ├── desire_manager.py | 欲望管理器 |
| ├── purpose_manager.py | 目的管理器 |
| ├── bias_system.py | 偏好系统 |
| └── signal_detector.py | 信号检测器 |

### 记忆系统

| 目录/文件 | 说明 |
|-----------|------|
| memory/ | 记忆系统模块 |
| ├── short_term_memory.py | 短期记忆 |
| ├── long_term_memory.py | 长期记忆 |
| ├── thought_memory.py | 思考记忆 |
| ├── adjustable_experience.py | 可调整经验 |
| └── database.py | 数据库管理 |

### 场景模拟

| 目录/文件 | 说明 |
|-----------|------|
| scenario/ | 场景模拟模块 |
| ├── scenario_simulator.py | 场景模拟器 |
| └── weighted_fantasy_generator.py | 加权幻想生成器 |

### 能力系统

| 目录/文件 | 说明 |
|-----------|------|
| ability/ | 能力系统模块 |
| ├── ability_manager.py | 能力管理器 |
| ├── example_tool.py | 示例工具 |
| ├── read_chat_history.py | 读取聊天历史 |
| └── send_to_gui.py | 发送到GUI |

### 工具类

| 目录/文件 | 说明 |
|-----------|------|
| utils/ | 工具模块 |
| ├── config.py | 配置管理 |
| └── logger.py | 日志管理 |

---

## 🎨 启动脚本

| 文件 | 用途 |
|------|------|
| **启动两层架构.bat** | 启动两层架构系统 ⭐ 推荐 |
| 启动交互模式.bat | 启动旧版交互模式 |
| 快速启动.bat | 快速启动脚本 |
| start_gui.bat | 启动GUI界面 |

---

## 📊 数据文件

| 目录/文件 | 说明 |
|-----------|------|
| data/ | 数据目录 |
| ├── communication/ | 通信数据 |
| │   ├── ai_output.json | AI输出 |
| │   ├── chat_history.json | 聊天历史 |
| │   └── system_state.json | 系统状态 |
| ├── logs/ | 日志文件 |
| │   ├── fakeman.thinking_layer.log | 思考层日志 |
| │   ├── fakeman.execution_layer.log | 执行层日志 |
| │   └── ... | 其他日志 |
| ├── adjustable_experiences.json | 可调整经验 |
| └── thought_memory.json | 思考记忆 |

---

## 📖 历史文档

### 之前的更新

| 文档 | 内容 |
|------|------|
| 行动执行修复说明.md | 修复"只说不做"问题的第一次尝试 |
| 格式化输出说明.md | 添加格式化输出功能 |
| 格式化输出-更新完成.md | 格式化输出实现总结 |
| 输出格式快速参考.txt | 输出格式参考 |
| 交互模式使用说明.md | 交互模式使用指南 |
| 交互模式更新完成.md | 交互模式实现总结 |
| 新旧版本对比.txt | 版本对比 |
| 所有更新总结.md | 所有更新的总结 |
| 修复记录.md | 修复记录 |
| 问题已解决.md | 问题解决记录 |

### 系统文档

| 文档 | 内容 |
|------|------|
| README.md | 项目主README |
| START_HERE.md | 项目入口指南 |
| REFACTORING_COMPLETE.md | 重构完成说明 |
| GUI_UPDATE_COMPLETE.md | GUI更新完成 |
| ABILITY_SYSTEM_COMPLETE.md | 能力系统完成 |

### 设计文档

| 目录/文件 | 说明 |
|-----------|------|
| docs/ | 设计文档目录 |
| ├── NEW_ARCHITECTURE.md | 新架构设计 |
| ├── CONTINUOUS_THINKING.md | 持续思考系统 |
| ├── DESIRE_DEFINITIONS.md | 欲望定义 |
| ├── ENHANCED_MEMORY_SYSTEM.md | 增强记忆系统 |
| ├── SCENARIO_SIMULATION.md | 场景模拟 |
| ├── WEIGHTED_FANTASY_SYSTEM.md | 加权幻想系统 |
| └── ABILITY_SYSTEM.md | 能力系统 |

---

## 🎯 快速导航

### 我想...

| 需求 | 文件 |
|------|------|
| **快速上手** | 两层架构README.md |
| **立即运行** | 启动两层架构.bat |
| **查看命令** | 两层架构快速参考.txt |
| **了解改进** | 演示对比.md |
| **深入学习** | 两层架构说明.md |
| **查看代码** | thinking_layer.py + execution_layer.py |
| **修改配置** | utils/config.py |
| **查看日志** | data/logs/ |

### 我遇到问题...

| 问题 | 参考 |
|------|------|
| **启动失败** | 两层架构说明.md → 常见问题 |
| **命令错误** | 两层架构快速参考.txt → 命令格式 |
| **性能问题** | 两层架构-完成.md → 性能数据 |
| **想要定制** | 两层架构说明.md → 配置选项 |

---

## 📐 项目结构

```
x:\fakeman-project\
│
├── 🚀 启动脚本
│   ├── 启动两层架构.bat ⭐ 主要启动方式
│   ├── 启动交互模式.bat
│   └── 快速启动.bat
│
├── 💻 核心代码
│   ├── thinking_layer.py ⭐ 思考层（252行）
│   ├── execution_layer.py ⭐ 执行层（268行）
│   ├── main.py
│   └── main_refactored.py
│
├── 📚 两层架构文档 ⭐
│   ├── 两层架构README.md （主文档）
│   ├── 两层架构说明.md （详细文档）
│   ├── 两层架构-完成.md （实现总结）
│   ├── 两层架构实现总结.txt （全面总结）
│   ├── 两层架构快速参考.txt （快速参考）
│   └── 演示对比.md （效果对比）
│
├── 🧠 模块
│   ├── action_model/ （动作模型）
│   ├── purpose_generator/ （目的生成）
│   ├── memory/ （记忆系统）
│   ├── scenario/ （场景模拟）
│   ├── ability/ （能力系统）
│   ├── compressor/ （压缩器）
│   └── utils/ （工具类）
│
├── 📊 数据
│   └── data/
│       ├── communication/ （通信数据）
│       └── logs/ （日志文件）
│
├── 📖 历史文档
│   ├── 行动执行修复说明.md
│   ├── 格式化输出说明.md
│   ├── 交互模式使用说明.md
│   └── ... （其他更新文档）
│
└── 🎯 设计文档
    └── docs/
        ├── NEW_ARCHITECTURE.md
        ├── CONTINUOUS_THINKING.md
        └── ... （其他设计文档）
```

---

## 🔍 文件关系

### 两层架构核心

```
thinking_layer.py
    ├── 启动 → execution_layer.py
    ├── 使用 → main.py (FakeManRefactored)
    ├── 调用 → action_model/llm_client.py
    └── 记录 → data/logs/fakeman.thinking_layer.log

execution_layer.py
    ├── 调用 → action_model/llm_client.py
    └── 记录 → data/logs/fakeman.execution_layer.log
```

### 文档体系

```
两层架构README.md （入口）
    ├── 快速开始 → 启动两层架构.bat
    ├── 快速参考 → 两层架构快速参考.txt
    ├── 详细文档 → 两层架构说明.md
    ├── 效果对比 → 演示对比.md
    └── 实现总结 → 两层架构-完成.md
```

---

## 📝 版本历史

| 版本 | 日期 | 主要更新 |
|------|------|---------|
| v2.0.0 | 2025-11-09 | 🎉 实现两层架构系统 |
| v1.x | 之前 | 单层架构、交互模式、格式化输出 |

---

## 🎯 推荐阅读路径

### 新用户

1. **两层架构README.md** - 了解系统
2. **启动两层架构.bat** - 立即体验
3. **两层架构快速参考.txt** - 学习命令
4. **演示对比.md** - 查看效果

### 开发者

1. **两层架构说明.md** - 理解架构
2. **thinking_layer.py** - 阅读思考层代码
3. **execution_layer.py** - 阅读执行层代码
4. **两层架构-完成.md** - 了解实现细节

### 高级用户

1. **两层架构实现总结.txt** - 全面了解
2. **action_model/prompts/** - 学习提示词工程
3. **utils/config.py** - 自定义配置
4. **docs/** - 深入理解设计思想

---

## 🎉 总结

**核心文件**：
- ⭐ 启动两层架构.bat
- ⭐ thinking_layer.py
- ⭐ execution_layer.py
- ⭐ 两层架构README.md

**核心文档**：
- 两层架构README.md（必读）
- 两层架构快速参考.txt（常用）
- 演示对比.md（了解改进）

**立即开始**：

```bash
启动两层架构.bat
```

---

<div align="center">

**文件导航 v2.0** | **FakeMan 两层架构系统**

所有文件都在这里！📚

</div>

